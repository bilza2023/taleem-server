import{s as $,f as ye,r as Pe,o as Te}from"../chunks/scheduler.gYkXA_jx.js";import{S as ee,i as te,y as pe,j as N,o as k,l as Q,t as E,n as W,f as d,e as v,v as q,s as C,a as y,b as S,w as K,g as M,q as me,h as p,z as m,k as b,u as B,x as ne,A as ke,B as we,C as je,c as re,d as le,m as se,p as oe}from"../chunks/index.Da-vJZNO.js";import{t as Oe}from"../chunks/SvelteToast.svelte_svelte_type_style_lang.DHR7y2lI.js";import{P as De,d as Ee,a as Ie}from"../chunks/PlayerToolbarNs.svelte_svelte_type_style_lang.D7GhdOjK.js";import{g as Se}from"../chunks/entry.C-LT8vz1.js";import{f as de,s as be}from"../chunks/index.dHPYAJQg.js";function _e(l){let n,t,e,r,o,s,a,i,c,O="||",U,P,I="■",L,j,R,h,F,f=l[0].slides[l[0].slides.length-1].endTime+"",X,Y,Z,V,T,z,G,A,g,x,ae;function ie(u,_){return typeof u[1]=="number"?Ue:Ne}let J=ie(l),D=J(l);return{c(){n=v("div"),t=v("div"),e=v("button"),r=q("🏠"),o=C(),s=v("button"),a=q("▶"),i=C(),c=v("button"),c.textContent=O,U=C(),P=v("button"),P.textContent=I,L=C(),j=v("input"),R=C(),h=v("div"),D.c(),F=q(`
        / `),X=q(f),Y=q(" sec"),Z=C(),V=v("div"),T=v("input"),this.h()},l(u){n=y(u,"DIV",{class:!0,style:!0});var _=S(n);t=y(_,"DIV",{class:!0,style:!0});var w=S(t);e=y(w,"BUTTON",{class:!0,style:!0});var ue=S(e);r=K(ue,"🏠"),ue.forEach(d),o=M(w),s=y(w,"BUTTON",{class:!0,style:!0});var fe=S(s);a=K(fe,"▶"),fe.forEach(d),i=M(w),c=y(w,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),me(c)!=="svelte-1iauj0x"&&(c.textContent=O),U=M(w),P=y(w,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),me(P)!=="svelte-f4x0p8"&&(P.textContent=I),L=M(w),j=y(w,"INPUT",{type:!0,min:!0,max:!0,step:!0}),R=M(w),h=y(w,"DIV",{class:!0,style:!0});var H=S(h);D.l(H),F=K(H,`
        / `),X=K(H,f),Y=K(H," sec"),H.forEach(d),Z=M(w),V=y(w,"DIV",{class:!0,style:!0});var ce=S(V);T=y(ce,"INPUT",{type:!0,min:!0,max:!0,class:!0,style:!0}),ce.forEach(d),w.forEach(d),_.forEach(d),this.h()},h(){p(e,"class","toolbar-button svelte-4pwy67"),m(e,"background-color",l[4].primary),p(s,"class","toolbar-button svelte-4pwy67"),m(s,"background-color",l[4].primary),p(c,"class","toolbar-button svelte-4pwy67"),m(c,"background-color","gray"),p(P,"class","toolbar-button svelte-4pwy67"),m(P,"background-color","#b91c1c"),p(j,"type","range"),p(j,"min","0"),p(j,"max","1"),p(j,"step","0.1"),j.value="0.8",p(h,"class","toolbar-text svelte-4pwy67"),m(h,"background-color",l[4].bg),m(h,"color",l[4].text),p(T,"type","range"),p(T,"min","0"),p(T,"max",z=l[0].slides[l[0].slides.length-1].endTime),T.value=l[1],p(T,"class","w-full h-2 rounded-lg appearance-none cursor-pointer"),m(T,"background-color",l[4].secondary),p(V,"class","w-10/12 p-1 rounded-sm text-xs text-center"),m(V,"background-color",l[4].bg),p(t,"class","toolbar-content flex items-center space-x-2 svelte-4pwy67"),m(t,"background-color",l[4].secondary),p(n,"class","toolbar-wrapper svelte-4pwy67"),m(n,"--opacity",l[3])},m(u,_){N(u,n,_),b(n,t),b(t,e),b(e,r),b(t,o),b(t,s),b(s,a),b(t,i),b(t,c),b(t,U),b(t,P),b(t,L),b(t,j),b(t,R),b(t,h),D.m(h,null),b(h,F),b(h,X),b(h,Y),b(t,Z),b(t,V),b(V,T),g=!0,x||(ae=[B(e,"click",l[9]),B(s,"click",l[5]),B(c,"click",l[7]),B(P,"click",l[6]),B(j,"input",l[14]),B(T,"change",l[15])],x=!0)},p(u,_){(!g||_&16)&&m(e,"background-color",u[4].primary),(!g||_&16)&&m(s,"background-color",u[4].primary),J===(J=ie(u))&&D?D.p(u,_):(D.d(1),D=J(u),D&&(D.c(),D.m(h,F))),(!g||_&1)&&f!==(f=u[0].slides[u[0].slides.length-1].endTime+"")&&ne(X,f),(!g||_&16)&&m(h,"background-color",u[4].bg),(!g||_&16)&&m(h,"color",u[4].text),(!g||_&1&&z!==(z=u[0].slides[u[0].slides.length-1].endTime))&&p(T,"max",z),(!g||_&2)&&(T.value=u[1]),(!g||_&16)&&m(T,"background-color",u[4].secondary),(!g||_&16)&&m(V,"background-color",u[4].bg),(!g||_&16)&&m(t,"background-color",u[4].secondary),(!g||_&8)&&m(n,"--opacity",u[3])},i(u){g||(u&&ye(()=>{g&&(A&&A.end(1),G=ke(n,de,{delay:300}),G.start())}),g=!0)},o(u){G&&G.invalidate(),u&&(A=we(n,de,{delay:300})),g=!1},d(u){u&&d(n),D.d(),u&&A&&A.end(),x=!1,Pe(ae)}}}function Ne(l){let n;return{c(){n=q(l[1])},l(t){n=K(t,l[1])},m(t,e){N(t,n,e)},p(t,e){e&2&&ne(n,t[1])},d(t){t&&d(n)}}}function Ue(l){let n=l[1].toFixed(0)+"",t;return{c(){t=q(n)},l(e){t=K(e,n)},m(e,r){N(e,t,r)},p(e,r){r&2&&n!==(n=e[1].toFixed(0)+"")&&ne(t,n)},d(e){e&&d(t)}}}function Ve(l){let n,t=l[0]&&_e(l);return{c(){t&&t.c(),n=pe()},l(e){t&&t.l(e),n=pe()},m(e,r){t&&t.m(e,r),N(e,n,r)},p(e,[r]){e[0]?t?(t.p(e,r),r&1&&k(t,1)):(t=_e(e),t.c(),k(t,1),t.m(n.parentNode,n)):t&&(Q(),E(t,1,1,()=>{t=null}),W())},i(e){k(t)},o(e){E(t)},d(e){e&&d(n),t&&t.d(e)}}}function Ce(l,n,t){let e,{presentationObj:r}=n,{pulse:o}=n,{preStart:s=()=>{}}=n,{preStop:a=()=>{}}=n,{prePause:i=()=>{}}=n,{setPulse:c=()=>{}}=n,{theme:O="light"}=n,{opacity:U=.8}=n;function P(){s(),r.start()}function I(){a(),r.stop()}function L(){i(),r.pause()}function j(f){r.setVolume(f)}function R(){I(),Se("/")}const h=f=>j(f.target.value),F=f=>c(f.target.value);return l.$$set=f=>{"presentationObj"in f&&t(0,r=f.presentationObj),"pulse"in f&&t(1,o=f.pulse),"preStart"in f&&t(10,s=f.preStart),"preStop"in f&&t(11,a=f.preStop),"prePause"in f&&t(12,i=f.prePause),"setPulse"in f&&t(2,c=f.setPulse),"theme"in f&&t(13,O=f.theme),"opacity"in f&&t(3,U=f.opacity)},l.$$.update=()=>{l.$$.dirty&8192&&t(4,e=O==="dark"?{bg:"#333",text:"#fff",primary:"#00A6ED",secondary:"#aeb18c"}:{bg:"#fff",text:"#333",primary:"#065d7f",secondary:"#aeb18c"})},[r,o,c,U,e,P,I,L,j,R,s,a,i,O,h,F]}class Me extends ee{constructor(n){super(),te(this,n,Ce,Ve,$,{presentationObj:0,pulse:1,preStart:10,preStop:11,prePause:12,setPulse:2,theme:13,opacity:3})}}function he(l){let n,t,e,r,o=l[2]&&ge(l);return e=new De({props:{presentationObj:l[0],pulse:l[1],currentTime:l[1],pause:l[6]}}),{c(){o&&o.c(),n=C(),t=v("div"),re(e.$$.fragment)},l(s){o&&o.l(s),n=M(s),t=y(s,"DIV",{});var a=S(t);le(e.$$.fragment,a),a.forEach(d)},m(s,a){o&&o.m(s,a),N(s,n,a),N(s,t,a),se(e,t,null),r=!0},p(s,a){s[2]?o?(o.p(s,a),a&4&&k(o,1)):(o=ge(s),o.c(),k(o,1),o.m(n.parentNode,n)):o&&(Q(),E(o,1,1,()=>{o=null}),W());const i={};a&1&&(i.presentationObj=s[0]),a&2&&(i.pulse=s[1]),a&2&&(i.currentTime=s[1]),e.$set(i)},i(s){r||(k(o),k(e.$$.fragment,s),r=!0)},o(s){E(o),E(e.$$.fragment,s),r=!1},d(s){s&&(d(n),d(t)),o&&o.d(s),oe(e)}}}function ge(l){let n,t,e,r,o;return t=new Me({props:{presentationObj:l[0],pulse:l[1],preStart:l[4],preStop:l[5],setPulse:l[7],prePause:l[6],opacity:.5,theme:"dark"}}),{c(){n=v("div"),re(t.$$.fragment)},l(s){n=y(s,"DIV",{});var a=S(n);le(t.$$.fragment,a),a.forEach(d)},m(s,a){N(s,n,a),se(t,n,null),o=!0},p(s,a){const i={};a&1&&(i.presentationObj=s[0]),a&2&&(i.pulse=s[1]),t.$set(i)},i(s){o||(k(t.$$.fragment,s),s&&ye(()=>{o&&(r&&r.end(1),e=ke(n,be,{duration:300}),e.start())}),o=!0)},o(s){E(t.$$.fragment,s),e&&e.invalidate(),s&&(r=we(n,be,{duration:300,start:.95})),o=!1},d(s){s&&d(n),oe(t),s&&r&&r.end()}}}function Be(l){let n,t,e,r,o,s,a=l[0]&&he(l);return{c(){n=v("link"),t=C(),e=v("div"),a&&a.c(),this.h()},l(i){const c=je("svelte-1i48p6k",document.head);n=y(c,"LINK",{rel:!0,href:!0,integrity:!0,crossorigin:!0}),c.forEach(d),t=M(i),e=y(i,"DIV",{class:!0,style:!0});var O=S(e);a&&a.l(O),O.forEach(d),this.h()},h(){p(n,"rel","stylesheet"),p(n,"href","https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css"),p(n,"integrity","sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ"),p(n,"crossorigin","anonymous"),p(e,"class","bg-gray-800 text-white w-full min-h-screen"),m(e,"position","fixed"),m(e,"top","0")},m(i,c){b(document.head,n),N(i,t,c),N(i,e,c),a&&a.m(e,null),r=!0,o||(s=B(e,"mousemove",l[3]),o=!0)},p(i,[c]){i[0]?a?(a.p(i,c),c&1&&k(a,1)):(a=he(i),a.c(),k(a,1),a.m(e,null)):a&&(Q(),E(a,1,1,()=>{a=null}),W())},i(i){r||(k(a),r=!0)},o(i){E(a),r=!1},d(i){i&&(d(t),d(e)),d(n),a&&a.d(),o=!1,s()}}}function qe(l,n,t){let{presentationObj:e}=n,r=0,o,s=!1;function a(){s==!1&&(t(2,s=!0),setTimeout(()=>{t(2,s=!1)},5e3))}function i(){o=setInterval(c,500),t(1,r=Math.floor(e.pulse()))}function c(){t(1,r=Math.floor(e.pulse()))}function O(){clearInterval(o),t(1,r=Math.floor(e.pulse()))}function U(){e.pause(),t(1,r=Math.floor(e.pulse()))}function P(I){e.setPulse(I),t(1,r=Math.floor(e.pulse()))}return l.$$set=I=>{"presentationObj"in I&&t(0,e=I.presentationObj)},[e,r,s,a,i,O,U,P]}class Ke extends ee{constructor(n){super(),te(this,n,qe,Be,$,{presentationObj:0})}}function ve(l){let n,t;return n=new Ke({props:{presentationObj:l[0]}}),{c(){re(n.$$.fragment)},l(e){le(n.$$.fragment,e)},m(e,r){se(n,e,r),t=!0},p(e,r){const o={};r&1&&(o.presentationObj=e[0]),n.$set(o)},i(e){t||(k(n.$$.fragment,e),t=!0)},o(e){E(n.$$.fragment,e),t=!1},d(e){oe(n,e)}}}function Fe(l){let n,t,e=l[0]&&ve(l);return{c(){n=v("div"),e&&e.c(),this.h()},l(r){n=y(r,"DIV",{class:!0,style:!0});var o=S(n);e&&e.l(o),o.forEach(d),this.h()},h(){p(n,"class","bg-gray-800 text-white w-full min-h-screen"),m(n,"position","fixed"),m(n,"top","0")},m(r,o){N(r,n,o),e&&e.m(n,null),t=!0},p(r,[o]){r[0]?e?(e.p(r,o),o&1&&k(e,1)):(e=ve(r),e.c(),k(e,1),e.m(n,null)):e&&(Q(),E(e,1,1,()=>{e=null}),W())},i(r){t||(k(e),t=!0)},o(r){E(e),t=!1},d(r){r&&d(n),e&&e.d()}}}function Le(l,n,t){let e,r;return Te(async()=>{e=new URLSearchParams(location.search).get("filename");const o=await Ee.tcode.get(`filename=${e}`);if(o.ok){let a=(await o.json()).data[0];t(0,r=new Ie(a)),await r.init()}else Oe.push("failed to load")}),[r]}class Je extends ee{constructor(n){super(),te(this,n,Le,Fe,$,{})}}export{Je as component};
