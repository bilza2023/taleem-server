import{s as st,r as at}from"../chunks/scheduler.gYkXA_jx.js";import{S as rt,i as nt,c as P,s as E,d as L,g as I,m as R,j as m,o as S,t as N,f as i,p as T,e as $,a as v,b as y,h as d,k as C,q as M,r as F,u as Q,v as tt,w as et}from"../chunks/index.Da-vJZNO.js";/* empty css                                                    */import{a as it,F as lt,B as ot}from"../chunks/FormElm.BtQgP28A.js";import{t as U}from"../chunks/SvelteToast.svelte_svelte_type_style_lang.DHR7y2lI.js";import{g as X}from"../chunks/entry.C-LT8vz1.js";import{I as Z}from"../chunks/Logo.CIz8777T.js";import{H as ft}from"../chunks/HdgWithIcon.BBIycJZe.js";import{P as ut}from"../chunks/PageWrapper.BDCPbkV0.js";import{A as ct}from"../chunks/config.CzsQEk9Y.js";import{N as mt}from"../chunks/Nav.BVaf7xvy.js";function pt(l,t,s){let r=[];return l.length<t&&r.push(`The string length must be at least ${t} characters.`),l.length>s&&r.push(`The string length must be at most ${s} characters.`),r.length>0?{status:"error",errors:r}:{status:"ok"}}function dt(l){const t=[];/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)||t.push("Email address is invalid"),l.indexOf("@")===-1&&t.push("Email address must contain @ symbol");const r=l.split("@")[1];return r||t.push("Email address must contain domain name"),/^[^\s@]+\.[^\s@]+$/.test(r)||t.push("Domain name is invalid"),t.length>0?{status:"error",errors:t}:{status:"ok"}}async function $t(l,t){try{if(dt(l).status!=="ok"){U.push("Not a valid email");return}if(pt(t,6,30).status!=="ok"){U.push("password must have 6 to 30 characters");return}const n=await it(`${ct}/login`,{email:l,password:t});if(n.ok){const a=await n.json();localStorage.setItem("token",a.token),localStorage.setItem("email",a.email),X("/")}else{const a=await n.json();a.errorcode=="AccountNotVerified"&&X("/verify"),U.push(a.message)}}catch{U.push("failed to login")}}function vt(l){let t;return{c(){t=tt("Login")},l(s){t=et(s,"Login")},m(s,r){m(s,t,r)},d(s){s&&i(t)}}}function ht(l){let t;return{c(){t=tt("Login")},l(s){t=et(s,"Login")},m(s,r){m(s,t,r)},d(s){s&&i(t)}}}function _t(l){let t,s,r,n,a="Email",u,p,o,c,h,g,K="Password",q,b,j,_,A,w,O='<a href="/forgot_password" class="text-yellow-700 text-lg">forgot password</a>',B,V,x,H,W,Y;return s=new ft({props:{icon:Z.KEY,$$slots:{default:[vt]},$$scope:{ctx:l}}}),x=new ot({props:{icons:Z.SAVE,clk:l[4],$$slots:{default:[ht]},$$scope:{ctx:l}}}),{c(){t=$("div"),P(s.$$.fragment),r=E(),n=$("div"),n.textContent=a,u=E(),p=$("div"),o=$("div"),c=$("input"),h=E(),g=$("div"),g.textContent=K,q=E(),b=$("div"),j=$("div"),_=$("input"),A=E(),w=$("div"),w.innerHTML=O,B=E(),V=$("div"),P(x.$$.fragment),this.h()},l(e){t=v(e,"DIV",{class:!0});var f=y(t);L(s.$$.fragment,f),f.forEach(i),r=I(e),n=v(e,"DIV",{class:!0,"data-svelte-h":!0}),M(n)!=="svelte-klynmt"&&(n.textContent=a),u=I(e),p=v(e,"DIV",{class:!0});var k=y(p);o=v(k,"DIV",{class:!0});var D=y(o);c=v(D,"INPUT",{type:!0,class:!0}),D.forEach(i),k.forEach(i),h=I(e),g=v(e,"DIV",{class:!0,"data-svelte-h":!0}),M(g)!=="svelte-1by2qsq"&&(g.textContent=K),q=I(e),b=v(e,"DIV",{class:!0});var z=y(b);j=v(z,"DIV",{class:!0});var G=y(j);_=v(G,"INPUT",{type:!0,class:!0}),G.forEach(i),z.forEach(i),A=I(e),w=v(e,"DIV",{class:!0,"data-svelte-h":!0}),M(w)!=="svelte-1h7bq5"&&(w.innerHTML=O),B=I(e),V=v(e,"DIV",{class:!0});var J=y(V);L(x.$$.fragment,J),J.forEach(i),this.h()},h(){d(t,"class","flex justify-center"),d(n,"class","flex justify-center pt-1 text-white"),d(c,"type","email"),d(c,"class","w-full bg-gray-700 color-white p-2 m-1 rounded-md"),d(o,"class","w-6/12 text-center"),d(p,"class","flex justify-center pt-1"),d(g,"class","flex justify-center pt-1 text-white"),d(_,"type","password"),d(_,"class","w-full bg-gray-700 color-white p-2 m-1 rounded-md"),d(j,"class","w-6/12 text-center"),d(b,"class","flex justify-center pt-1"),d(w,"class","flex justify-center"),d(V,"class","flex justify-center ")},m(e,f){m(e,t,f),R(s,t,null),m(e,r,f),m(e,n,f),m(e,u,f),m(e,p,f),C(p,o),C(o,c),F(c,l[0]),m(e,h,f),m(e,g,f),m(e,q,f),m(e,b,f),C(b,j),C(j,_),F(_,l[1]),m(e,A,f),m(e,w,f),m(e,B,f),m(e,V,f),R(x,V,null),H=!0,W||(Y=[Q(c,"input",l[2]),Q(_,"input",l[3])],W=!0)},p(e,f){const k={};f&32&&(k.$$scope={dirty:f,ctx:e}),s.$set(k),f&1&&c.value!==e[0]&&F(c,e[0]),f&2&&_.value!==e[1]&&F(_,e[1]);const D={};f&3&&(D.clk=e[4]),f&32&&(D.$$scope={dirty:f,ctx:e}),x.$set(D)},i(e){H||(S(s.$$.fragment,e),S(x.$$.fragment,e),H=!0)},o(e){N(s.$$.fragment,e),N(x.$$.fragment,e),H=!1},d(e){e&&(i(t),i(r),i(n),i(u),i(p),i(h),i(g),i(q),i(b),i(A),i(w),i(B),i(V)),T(s),T(x),W=!1,at(Y)}}}function gt(l){let t,s,r,n,a,u,p;return u=new lt({props:{$$slots:{default:[_t]},$$scope:{ctx:l}}}),{c(){t=$("br"),s=$("br"),r=E(),n=$("div"),a=$("div"),P(u.$$.fragment),this.h()},l(o){t=v(o,"BR",{}),s=v(o,"BR",{}),r=I(o),n=v(o,"DIV",{class:!0});var c=y(n);a=v(c,"DIV",{class:!0});var h=y(a);L(u.$$.fragment,h),h.forEach(i),c.forEach(i),this.h()},h(){d(a,"class","w-10/12 "),d(n,"class","flex justify-center w-full")},m(o,c){m(o,t,c),m(o,s,c),m(o,r,c),m(o,n,c),C(n,a),R(u,a,null),p=!0},p(o,c){const h={};c&35&&(h.$$scope={dirty:c,ctx:o}),u.$set(h)},i(o){p||(S(u.$$.fragment,o),p=!0)},o(o){N(u.$$.fragment,o),p=!1},d(o){o&&(i(t),i(s),i(r),i(n)),T(u)}}}function wt(l){let t,s,r,n;return t=new mt({}),r=new ut({props:{$$slots:{default:[gt]},$$scope:{ctx:l}}}),{c(){P(t.$$.fragment),s=E(),P(r.$$.fragment)},l(a){L(t.$$.fragment,a),s=I(a),L(r.$$.fragment,a)},m(a,u){R(t,a,u),m(a,s,u),R(r,a,u),n=!0},p(a,[u]){const p={};u&35&&(p.$$scope={dirty:u,ctx:a}),r.$set(p)},i(a){n||(S(t.$$.fragment,a),S(r.$$.fragment,a),n=!0)},o(a){N(t.$$.fragment,a),N(r.$$.fragment,a),n=!1},d(a){a&&i(s),T(t,a),T(r,a)}}}function xt(l,t,s){let r="",n="";function a(){r=this.value,s(0,r)}function u(){n=this.value,s(1,n)}return[r,n,a,u,()=>$t(r,n)]}class Rt extends rt{constructor(t){super(),nt(this,t,xt,wt,st,{})}}export{Rt as component};
